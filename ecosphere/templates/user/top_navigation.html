{% load i18n %}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <!-- Your other navigation items here -->

  <div class="dropdown">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      {% get_current_language as LANGUAGE_CODE %}
      {% get_language_info for LANGUAGE_CODE as lang %}
      {{ lang.name_local }} <span class="caret"></span>
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      {% get_available_languages as LANGUAGES %}
      {% for code, name in LANGUAGES %}
        <form action="{% url 'set_language' %}" method="post">
          {% csrf_token %}
          <input name="next" type="hidden" value="{{ request.path }}">
          <input name="language" type="hidden" value="{{ code }}">
          <button type="submit" class="dropdown-item">{{ name }}</button>
        </form>
      {% endfor %}
    </div>
  </div>
</nav>